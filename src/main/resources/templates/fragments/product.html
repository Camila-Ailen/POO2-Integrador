<script src="https://cdn.tailwindcss.com"></script>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 p-4 max-w-7xl mx-auto">
    <!-- Carrusel -->
    <div class="lg:col-span-2 rounded-lg bg-gray-100 p-4">
        <div id="controls-carousel" class="relative w-full" data-carousel="static">
            <!-- Contenedor del Carrusel -->
            <div class="relative h-96 overflow-hidden rounded-lg">
                <!-- Item 1 -->
                <div class="duration-700 ease-in-out" data-carousel-item="active">
                    <img src="/static/images/1.png" class="absolute block w-full h-full object-contain" alt="Imagen Producto">
                </div>
                <!-- Item 2 -->
                <div class="duration-700 ease-in-out hidden" data-carousel-item>
                    <img src="/static/images/2.png" class="absolute block w-full h-full object-contain" alt="Imagen Producto">
                </div>
                <!-- Item 3 -->
                <div class="duration-700 ease-in-out hidden" data-carousel-item>
                    <img src="/static/images/3.png" class="absolute block w-full h-full object-contain" alt="Imagen Producto">
                </div>
            </div>
            <!-- Controles del Carrusel -->
            <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 group focus:outline-none" data-carousel-prev>
                <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-black/50 text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </span>
            </button>
            <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 group focus:outline-none" data-carousel-next>
                <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-black/50 text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </span>
            </button>
        </div>
    </div>

    <!-- Formulario -->
    <div class="rounded-lg bg-gray-100 p-6">
        <h1 class="text-xl font-bold text-left mb-4">Drone Con Cámara 4K</h1>
        <p class="text-sm text-gray-600 mb-2">Este dron cuenta con cámara 4K, control remoto y baterías adicionales.</p>
        <p class="text-lg font-semibold text-blue-600 mb-4">$104,999.25</p>
        <p class="text-sm text-green-600 mb-4">En stock - Disponible para envío inmediato</p>
        <form action="#" class="space-y-4">
            <!-- Cantidad -->
            <div>
                <label for="quantity-input" class="block mb-2 text-sm font-medium text-gray-900">Cantidad</label>
                <div class="relative flex items-center max-w-[8rem]">
                    <button type="button" id="decrement-button" class="bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-11 focus:ring-gray-100 focus:ring-2 focus:outline-none">
                        <svg class="w-3 h-3 text-gray-900" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
                        </svg>
                    </button>
                    <input type="number" id="quantity-input" inputmode="numeric" class="bg-gray-50 border-x-0 border-gray-300 h-11 text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full py-2.5" placeholder="5" value="1" required min="1" max="50" />
                    <button type="button" id="increment-button" class="bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-e-lg p-3 h-11 focus:ring-gray-100 focus:ring-2 focus:outline-none">
                        <svg class="w-3 h-3 text-gray-900" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Botones -->
            <button type="submit" class="w-full bg-green-600 hover:bg-green-500 text-white py-2 rounded-lg font-medium">Comprar ahora</button>
            <button type="button" class="w-full bg-gray-400  hover:bg-gray-100  text-gray-700 py-2 rounded-lg font-medium">Agregar al carrito</button>
        </form>
    </div>
</div>

<script>
    // Script para incrementar y decrementar cantidad
    const incrementButton = document.getElementById("increment-button");
    const decrementButton = document.getElementById("decrement-button");
    const quantityInput = document.getElementById("quantity-input");

    // Incrementar la cantidad
    incrementButton.addEventListener("click", () => {
        let currentValue = parseInt(quantityInput.value);
        if (currentValue < 50) { // Asegurarse de que no pase el máximo de 50
            quantityInput.value = currentValue + 1;
        }
    });

    // Decrementar la cantidad
    decrementButton.addEventListener("click", () => {
        let currentValue = parseInt(quantityInput.value);
        if (currentValue > 1) { // Asegurarse de que no sea menor que 1
            quantityInput.value = currentValue - 1;
        }
    });

    // Validación del input para evitar entradas inválidas
    quantityInput.addEventListener('input', (e) => {
        // Asegurarse de que el valor sea un número válido
        let value = e.target.value;
        // Si el valor no es un número, restablecer al mínimo permitido (1)
        if (isNaN(value) || value < 1) {
            e.target.value = 1;
        }
        // Si el valor es mayor que 50, restablecer al máximo permitido (50)
        else if (value > 50) {
            e.target.value = 50;
        }
    });

    // Script para el carrusel
    const prevButton = document.querySelector('[data-carousel-prev]');
    const nextButton = document.querySelector('[data-carousel-next]');
    const carouselItems = document.querySelectorAll('[data-carousel-item]');
    let currentItemIndex = 0;

    // Función para mostrar el siguiente elemento
    function showNextItem() {
        carouselItems[currentItemIndex].classList.add('hidden');
        currentItemIndex = (currentItemIndex + 1) % carouselItems.length;
        carouselItems[currentItemIndex].classList.remove('hidden');
    }

    // Función para mostrar el elemento anterior
    function showPrevItem() {
        carouselItems[currentItemIndex].classList.add('hidden');
        currentItemIndex = (currentItemIndex - 1 + carouselItems.length) % carouselItems.length;
        carouselItems[currentItemIndex].classList.remove('hidden');
    }

    // Controladores de los botones de navegación
    nextButton.addEventListener('click', showNextItem);
    prevButton.addEventListener('click', showPrevItem);
</script>
